<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Music Website</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="container">

    <nav class="navbar">
      <div class="logo-wrap">
        <img src="images/logo.png" class="logo" />
        <h3>Real Sound</h3>
      </div>
      <ul>
        <li><a href="#">ホーム</a></li>
        <li><a href="#">音楽一覧</a></li>
        <li><a href="#">お問い合わせ</a></li>
      </ul>
    </nav>

    <div class="content">
      <div class="content-up">
        <div class="left-col">
          <h1>NEVER<br />STOP<br />YOUR MUSIC</h1>
        </div>
        <div class="right-col">
          <p>Click Here To Listen</p>
          <img src="images/play.png" id="icon" />
        </div>
      </div>
      <div id="waveform"></div>
    </div>

    <audio muted id="mySong">
      <source src="audio/mixkit-beautiful-dream-493.mp3" type="audio/mp3" />
    </audio>
  </div>

  <script src="https://unpkg.com/wavesurfer.js@7"></script>
  <script>
    let mySong = document.getElementById("mySong");
    let icon = document.getElementById("icon");
    icon.onclick = function () {
      if (mySong.paused) {
        mySong.play();
        wavesurfer.play()
        icon.src = "./images/pause.png";
      } else {
        mySong.pause();
        wavesurfer.pause()
        icon.src = "./images/play.png";
      }
    };
    const wavesurfer = WaveSurfer.create({
      container: '#waveform',
      waveColor: 'rgba(255, 255, 255, 0.2)',
      progressColor: '#000',
      url: 'audio/mixkit-beautiful-dream-493.mp3',
    })
    wavesurfer.on('finish', function () {
      console.log('再生が終了しました。');
      icon.src = "./images/play.png";
    });

  </script>
</body>

</html>